{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport ViewerJS from 'viewerjs'\nimport 'viewerjs/dist/viewer.css'\n\ninterface RViewerJSProps {\n  className?: string\n  options?: ViewerJS.Options\n}\n\nexport default class RViewerJS extends React.PureComponent<RViewerJSProps> {\n  private viewer: ViewerJS | null = null\n\n  private onRef = (el: HTMLDivElement | null) => {\n    if (!el) {\n      return\n    }\n    if (this.viewer) {\n      this.viewer.destroy()\n    }\n    this.viewer = new ViewerJS(el, this.props.options)\n  }\n\n  public componentDidUpdate() {\n    if (this.viewer) {\n      this.viewer.update()\n    }\n  }\n\n  public componentWillUnmount() {\n    if (this.viewer) {\n      this.viewer.destroy()\n    }\n    this.viewer = null\n  }\n\n  public render() {\n    return (\n      <div ref={this.onRef} className={this.props.className}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n"],"names":["RViewerJS","el","viewer","destroy","ViewerJS","props","options","componentDidUpdate","update","componentWillUnmount","render","React","ref","onRef","className","children"],"mappings":";;;;;;;;;;;;IASqBA;;;AAArB;;;;AACU,gBAAA,GAA0B,IAA1B;;AAEA,eAAA,GAAQ,UAACC,EAAD;AACd,UAAI,CAACA,EAAL,EAAS;AACP;AACD;;AACD,UAAI,MAAKC,MAAT,EAAiB;AACf,cAAKA,MAAL,CAAYC,OAAZ;AACD;;AACD,YAAKD,MAAL,GAAc,IAAIE,QAAJ,CAAaH,EAAb,EAAiB,MAAKI,KAAL,CAAWC,OAA5B,CAAd;AACD,KARO;;;AA8BT;;;;SApBQC,qBAAA;AACL,QAAI,KAAKL,MAAT,EAAiB;AACf,WAAKA,MAAL,CAAYM,MAAZ;AACD;AACF;;SAEMC,uBAAA;AACL,QAAI,KAAKP,MAAT,EAAiB;AACf,WAAKA,MAAL,CAAYC,OAAZ;AACD;;AACD,SAAKD,MAAL,GAAc,IAAd;AACD;;SAEMQ,SAAA;AACL,WACEC,mBAAA,MAAA;AAAKC,MAAAA,GAAG,EAAE,KAAKC;AAAOC,MAAAA,SAAS,EAAE,KAAKT,KAAL,CAAWS;KAA5C,EACG,KAAKT,KAAL,CAAWU,QADd,CADF;AAKD;;;EAhCoCJ;;;;"}